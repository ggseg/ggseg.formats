---
output: github_document
format: gfm
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%"
)
```

# ggseg.formats

<!-- badges: start -->
[![R-CMD-check](https://github.com/ggseg/ggseg.formats/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/ggseg/ggseg.formats/actions/workflows/R-CMD-check.yaml)
[![CRAN status](https://www.r-pkg.org/badges/version/ggseg.formats)](https://CRAN.R-project.org/package=ggseg.formats)
[![Lifecycle: experimental](https://img.shields.io/badge/lifecycle-experimental-orange.svg)](https://lifecycle.r-lib.org/articles/stages.html#experimental)
<!-- badges: end -->

ggseg.formats provides the `ggseg_atlas` S3 class that powers the
[ggseg](https://ggseg.github.io/ggseg/) ecosystem for 2D and 3D brain
visualisation. It ships three bundled atlases, a set of accessor functions for
querying atlas contents, and a pipe-friendly manipulation API for subsetting,
renaming, and enriching atlas objects.

## Bundled atlases

The package includes three atlases covering the main atlas types:

- **dk** — Desikan-Killiany cortical parcellation (68 regions)
- **aseg** — FreeSurfer automatic subcortical segmentation
- **tracula** — TRACULA white matter tract atlas

```{r}
library(ggseg.formats)
dk
```

```{r plot-dk}
plot(dk)
```

```{r plot-aseg}
plot(aseg)
```

```{r plot-tracula}
plot(tracula)
```

## Quick example

Atlas objects are designed for exploration and customisation. You can query
regions, filter views, and pipe operations together:

```{r}
aseg |>
  atlas_region_keep("hippocampus|amygdala|thalamus") |>
  atlas_view_keep("sagittal") |>
  atlas_view_gather()
```

## Installation

Install from the ggseg r-universe:

```r
options(repos = c(
    ggseg = 'https://ggseg.r-universe.dev',
    CRAN = 'https://cloud.r-project.org'))

install.packages('ggseg.formats')
```

Or install the development version from GitHub:

``` r
# install.packages("devtools")
devtools::install_github("ggseg/ggseg.formats")
```

## Learn more

- `vignette("ggseg.formats")` — understanding atlas structure and accessors
- `vignette("atlas-manipulation")` — region, view, and metadata manipulation
