# ggseg.formats

ggseg.formats provides the `brain_atlas` S3 class that powers the
[ggseg](https://ggseg.github.io/ggseg/) ecosystem for 2D and 3D brain
visualisation. It ships three bundled atlases, a set of accessor
functions for querying atlas contents, and a pipe-friendly manipulation
API for subsetting, renaming, and enriching atlas objects.

## Bundled atlases

The package includes three atlases covering the main atlas types:

- **dk** — Desikan-Killiany cortical parcellation (68 regions)
- **aseg** — FreeSurfer automatic subcortical segmentation
- **tracula** — TRACULA white matter tract atlas

``` r
library(ggseg.formats)
dk
#> 
#> ── dk ggseg atlas ──────────────────────────────────────────────────────────────
#> Type: cortical
#> Regions: 35
#> Hemispheres: left, right
#> Views: inferior, lateral, medial, superior
#> Palette: ✔
#> Rendering: ✔ ggseg
#> ✔ ggseg3d (vertices)
#> ────────────────────────────────────────────────────────────────────────────────
#> # A tibble: 70 × 4
#>    hemi  region                            label                      lobe      
#>    <chr> <chr>                             <chr>                      <chr>     
#>  1 left  banks of superior temporal sulcus lh_bankssts                temporal  
#>  2 left  caudal anterior cingulate         lh_caudalanteriorcingulate cingulate 
#>  3 left  caudal middle frontal             lh_caudalmiddlefrontal     frontal   
#>  4 left  corpus callosum                   lh_corpuscallosum          white mat…
#>  5 left  cuneus                            lh_cuneus                  occipital 
#>  6 left  entorhinal                        lh_entorhinal              temporal  
#>  7 left  fusiform                          lh_fusiform                temporal  
#>  8 left  inferior parietal                 lh_inferiorparietal        parietal  
#>  9 left  inferior temporal                 lh_inferiortemporal        temporal  
#> 10 left  isthmus cingulate                 lh_isthmuscingulate        cingulate 
#> # ℹ 60 more rows
```

## Quick example

Atlas objects are designed for exploration and customisation. You can
query regions, filter views, and pipe operations together:

``` r
aseg |>
  atlas_region_keep("hippocampus|amygdala|thalamus") |>
  atlas_view_keep("sagittal") |>
  atlas_view_gather()
#> 
#> ── aseg ggseg atlas ────────────────────────────────────────────────────────────
#> Type: subcortical
#> Regions: 3
#> Hemispheres: left, right
#> Views: sagittal
#> Palette: ✔
#> Rendering: ✔ ggseg
#> ✔ ggseg3d (meshes)
#> ────────────────────────────────────────────────────────────────────────────────
#> # A tibble: 6 × 4
#>   hemi  region      label             structure
#>   <chr> <chr>       <chr>             <chr>    
#> 1 left  thalamus    Left-Thalamus     thalamus 
#> 2 left  hippocampus Left-Hippocampus  limbic   
#> 3 left  amygdala    Left-Amygdala     limbic   
#> 4 right thalamus    Right-Thalamus    thalamus 
#> 5 right hippocampus Right-Hippocampus limbic   
#> 6 right amygdala    Right-Amygdala    limbic
```

## Installation

Install from the ggseg r-universe:

``` r
options(repos = c(
    ggseg = 'https://ggseg.r-universe.dev',
    CRAN = 'https://cloud.r-project.org'))

install.packages('ggseg.formats')
```

Or install the development version from GitHub:

``` r
# install.packages("devtools")
devtools::install_github("ggseg/ggseg.formats")
```

## Learn more

- [The brain_atlas
  object](https://ggseg.github.io/ggseg.formats/articles/brain-atlas-class.html)
  — understanding atlas structure and accessors
- [Customising brain
  atlases](https://ggseg.github.io/ggseg.formats/articles/atlas-manipulation.html)
  — region, view, and metadata manipulation

# Package index

## All functions

- [`as_brain_atlas()`](as_brain_atlas.md) : Coerce to brain atlas
- [`aseg`](aseg.md) : FreeSurfer Automatic Subcortical Segmentation
  Atlas
- [`atlas_region_remove()`](atlas_manipulation.md)
  [`atlas_region_contextual()`](atlas_manipulation.md)
  [`atlas_region_rename()`](atlas_manipulation.md)
  [`atlas_region_keep()`](atlas_manipulation.md)
  [`atlas_core_add()`](atlas_manipulation.md)
  [`atlas_view_remove()`](atlas_manipulation.md)
  [`atlas_view_keep()`](atlas_manipulation.md)
  [`atlas_view_remove_region()`](atlas_manipulation.md)
  [`atlas_view_remove_small()`](atlas_manipulation.md)
  [`atlas_view_gather()`](atlas_manipulation.md)
  [`atlas_view_reorder()`](atlas_manipulation.md) : Manipulate brain
  atlas regions and views
- [`atlas_meshes()`](atlas_meshes.md) : Get atlas meshes for 3D
  rendering
- [`atlas_sf()`](atlas_sf.md) : Get atlas data for 2D rendering
- [`atlas_vertices()`](atlas_vertices.md) : Get atlas vertices for 3D
  rendering
- [`brain_atlas()`](brain_atlas.md) : Constructor for brain atlas
- [`brain_labels()`](brain_labels.md) : Extract unique labels of brain
  regions
- [`brain_pal()`](brain_pal.md) : Get brain atlas palette
- [`brain_regions()`](brain_regions.md) : Extract unique names of brain
  regions
- [`brain_views()`](brain_views.md) : Get available views in atlas
- [`convert_legacy_brain_atlas()`](convert_legacy_brain_atlas.md) :
  Convert legacy brain_atlas to unified format
- [`cortical_data()`](cortical_data.md) : Create cortical atlas data
- [`dk`](dk.md) : Desikan-Killiany Cortical Atlas
- [`is_brain_atlas()`](is_brain_atlas.md) : Validate brain atlas
- [`read_atlas_files()`](read_atlas_files.md) : Read in atlas data from
  all subjects
- [`read_freesurfer_stats()`](read_freesurfer_stats.md) : Read in raw
  FreeSurfer stats file
- [`read_freesurfer_table()`](read_freesurfer_table.md) : Read in stats
  table from FreeSurfer
- [`subcortical_data()`](subcortical_data.md) : Create subcortical atlas
  data
- [`tract_data()`](tract_data.md) : Create tract atlas data
- [`tracula`](tracula.md) : TRACULA White Matter Tract Atlas

